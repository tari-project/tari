[package]
name = "minotari_chat_ffi"
authors = ["The Tari Development Community"]
description = "Tari cryptocurrency chat C FFI bindings"
license = "BSD-3-Clause"
version.workspace = true
edition.workspace = true

[dependencies]
minotari_app_utilities = { workspace = true }
tari_chat_client = { workspace = true }
tari_common = { workspace = true }
tari_common_types = { workspace = true }
tari_contacts = { workspace = true }
tari_p2p = { workspace = true }
tari_shutdown = { workspace = true }
tari_utilities = { workspace = true }

libc = "0.2.65"
libsqlite3-sys = { version = "0.25.1", features = ["bundled"], optional = true }
log = "0.4.6"
log4rs = { version = "1.3.0", features = ["console_appender", "file_appender", "yaml_format"] }
thiserror = "1.0.26"
tokio = "1.23"

[target.'cfg(target_os="android")'.dependencies]
openssl = { version = "0.10.55", features = ["vendored"] }

[lib]
crate-type = ["staticlib", "cdylib"]

[dev-dependencies]
chrono = { version = "0.4.19", default-features = false }
rand = "0.8"
tari_crypto = { workspace = true }

[build-dependencies]
cbindgen = "0.24.3"
tari_common = { workspace = true, features = ["build"] }

[features]
default = ["bundled_sqlite"]
c_integration = []
bundled_sqlite = ["libsqlite3-sys"]

[package.metadata.cargo-machete]
ignored = ["libsqlite3-sys"] # this is so we can run cargo machete without getting false positive about macro dependancies
